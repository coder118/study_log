
# 인텔리제이에서 github로 PR을 보내려다가 생긴 문제


상황 설명- 저장소를 fork해왔고 난 인텔리제이에 코드를 다 작성을 완료한 상황이었다. 

## 시도한 방법

1. 인텔리제이 src가 있던 파일에 clone을 했었다.
-> 당연히 실패했다.

2. git bash로 src로 들어가서 git init을 사용해서 push했다. 
하지만 push할 때 오류메시지가 떠서 확인해보니 fork한 레포랑 커밋의 내용이 다르다고 커밋하는 것에 오류가 발생했다. 

처음에 무슨 소리인지 이해되지 않다가 fork에 대해 좀 더 찾아보며 문제의 원인을 확인했다.

### fork


fork는 단순히 저장소를 복사해서 push할 수 있게 해주는 것이 아니다. 그 저장소의 git 히스토리 전체가 복사되는 것이다. 
즉, 포크 레포를 시각화한다면 


    원본 레포 커밋 A ─ B ─ C
                         ↑
                    내 포크 레포

위의 형태로 로컬이 커밋을 받아와야 한다. 하지만 git init을 쓰는 순간 새로운 커밋이 만들어져버리는 것이다.


    원격(origin):   A ─ B ─ C
    로컬(init):     D ─ E

위 처럼 fork한 레포와 상관없는 완전히 새로운 git 프로젝트가 되어버린다. 그래서 push할때 오류메시지가 뜨던 거였다. push-f를 하면 커밋되긴 하지만 PR을 진행할 수 없었다.

이유는 간단한다. 공통되는 조상 커밋이 없기 때문에 fork한 레포에 PR을 할 수 없던 것이다.


# 해결

간단하게 정리하면 인텔리제이의 프로젝트를 시작할때 fork한 저장소를 clone한뒤 pull을 하면서 최신화를 시켜주고 그곳에서 소스코드를 작성하면 된다는 것이다.


clone을 실행하게 되면 원격 레포의 파일과 fork한 원격 레포의 git 히스토리까지 전부 다 복제해오는 것이다.
즉, 내가 위에서 말했던 공통 조상 커밋 문제가 해결되는 것이다.

clone!

        원본 레포 커밋 A ─ B ─ C
                             ↑
                        내 포크 레포





[인텔리제이와 깃허브 연결하기](https://mnoqc.tistory.com/7)


[fork한 레포 인텔리제이에 clone](https://velog.io/@9ruem2/%EC%9D%B8%ED%85%94%EB%A6%AC%EC%A0%9C%EC%9D%B4-git-%ED%81%B4%EB%A1%A0%EB%B6%80%ED%84%B0-%ED%91%B8%EC%89%AC%EA%B9%8C%EC%A7%80)






